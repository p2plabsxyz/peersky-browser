(()=>{var e={174:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.flatMapReader=t.flatMapTask=t.flatMapIO=t.flatMapEither=t.flatMapOption=t.flatMapNullable=t.liftOption=t.liftNullable=t.fromReadonlyNonEmptyArray=t.has=t.emptyRecord=t.emptyReadonlyArray=t.tail=t.head=t.isNonEmpty=t.singleton=t.right=t.left=t.isRight=t.isLeft=t.some=t.none=t.isSome=t.isNone=void 0;var i=r(3643);t.isNone=function(e){return"None"===e._tag},t.isSome=function(e){return"Some"===e._tag},t.none={_tag:"None"},t.some=function(e){return{_tag:"Some",value:e}},t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.singleton=function(e){return[e]},t.isNonEmpty=function(e){return e.length>0},t.head=function(e){return e[0]},t.tail=function(e){return e.slice(1)},t.emptyReadonlyArray=[],t.emptyRecord={},t.has=Object.prototype.hasOwnProperty,t.fromReadonlyNonEmptyArray=function(e){return n([e[0]],e.slice(1),!0)},t.liftNullable=function(e){return function(r,n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=r.apply(void 0,i);return e.fromEither(null==a?(0,t.left)(n.apply(void 0,i)):(0,t.right)(a))}}},t.liftOption=function(e){return function(r,n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=r.apply(void 0,i);return e.fromEither((0,t.isNone)(a)?(0,t.left)(n.apply(void 0,i)):(0,t.right)(a.value))}}},t.flatMapNullable=function(e,r){return(0,i.dual)(3,function(n,i,o){return r.flatMap(n,(0,t.liftNullable)(e)(i,o))})},t.flatMapOption=function(e,r){return(0,i.dual)(3,function(n,i,o){return r.flatMap(n,(0,t.liftOption)(e)(i,o))})},t.flatMapEither=function(e,t){return(0,i.dual)(2,function(r,n){return t.flatMap(r,function(t){return e.fromEither(n(t))})})},t.flatMapIO=function(e,t){return(0,i.dual)(2,function(r,n){return t.flatMap(r,function(t){return e.fromIO(n(t))})})},t.flatMapTask=function(e,t){return(0,i.dual)(2,function(r,n){return t.flatMap(r,function(t){return e.fromTask(n(t))})})},t.flatMapReader=function(e,t){return(0,i.dual)(2,function(r,n){return t.flatMap(r,function(t){return e.fromReader(n(t))})})}},1124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asUnit=t.as=t.getFunctorComposition=t.let=t.bindTo=t.flap=t.map=void 0;var n=r(3643);function i(e,t){return function(r){return function(n){return e.map(n,function(e){return t.map(e,r)})}}}function o(e){return function(t,r){return e.map(t,function(){return r})}}t.map=i,t.flap=function(e){return function(t){return function(r){return e.map(r,function(e){return e(t)})}}},t.bindTo=function(e){return function(t){return function(r){return e.map(r,function(e){var r;return(r={})[t]=e,r})}}},t.let=function(e){return function(t,r){return function(n){return e.map(n,function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))})}}},t.getFunctorComposition=function(e,t){var r=i(e,t);return{map:function(e,t){return(0,n.pipe)(e,r(t))}}},t.as=o,t.asUnit=function(e){var t=o(e);return function(e){return t(e,void 0)}}},3643:function(e,t){"use strict";var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function n(e){return e}function i(e){return function(){return e}}function o(e,t,r,n,i,o,a,u,s){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return a(o(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return u(a(o(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return s(u(a(o(i(n(r(t(e.apply(this,arguments)))))))))}}}function a(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.dual=t.getEndomorphismMonoid=t.not=t.SK=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.unsafeCoerce=t.identity=t.apply=t.getRing=t.getSemiring=t.getMonoid=t.getSemigroup=t.getBooleanAlgebra=void 0,t.getBooleanAlgebra=function(e){return function(){return{meet:function(t,r){return function(n){return e.meet(t(n),r(n))}},join:function(t,r){return function(n){return e.join(t(n),r(n))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,r){return function(n){return e.implies(t(n),r(n))}},not:function(t){return function(r){return e.not(t(r))}}}}},t.getSemigroup=function(e){return function(){return{concat:function(t,r){return function(n){return e.concat(t(n),r(n))}}}}},t.getMonoid=function(e){var r=(0,t.getSemigroup)(e);return function(){return{concat:r().concat,empty:function(){return e.empty}}}},t.getSemiring=function(e){return{add:function(t,r){return function(n){return e.add(t(n),r(n))}},zero:function(){return e.zero},mul:function(t,r){return function(n){return e.mul(t(n),r(n))}},one:function(){return e.one}}},t.getRing=function(e){var r=(0,t.getSemiring)(e);return{add:r.add,mul:r.mul,one:r.one,zero:r.zero,sub:function(t,r){return function(n){return e.sub(t(n),r(n))}}}},t.apply=function(e){return function(t){return t(e)}},t.identity=n,t.unsafeCoerce=n,t.constant=i,t.constTrue=i(!0),t.constFalse=i(!1),t.constNull=i(null),t.constUndefined=i(void 0),t.constVoid=t.constUndefined,t.flip=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length>1?e(t[1],t[0]):function(r){return e(r)(t[0])}}},t.flow=o,t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=a,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(t)}},t.pipe=function(e,t,r,n,i,o,a,u,s){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return o(i(n(r(t(e)))));case 7:return a(o(i(n(r(t(e))))));case 8:return u(a(o(i(n(r(t(e)))))));case 9:return s(u(a(o(i(n(r(t(e))))))));default:for(var c=arguments[0],l=1;l<arguments.length;l++)c=arguments[l](c);return c}},t.hole=a,t.SK=function(e,t){return t},t.not=function(e){return function(t){return!e(t)}},t.getEndomorphismMonoid=function(){return{concat:function(e,t){return o(e,t)},empty:n}},t.dual=function(e,t){var n="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,r([n],e,!1))}}}},3871:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceS=t.sequenceT=t.getApplySemigroup=t.apS=t.apSecond=t.apFirst=t.ap=void 0;var a=r(3643),u=o(r(174));function s(e,t,r){return function(n){for(var i=Array(r.length+1),o=0;o<r.length;o++)i[o]=r[o];return i[r.length]=n,0===t?e.apply(null,i):s(e,t-1,i)}}t.ap=function(e,t){return function(r){return function(n){return e.ap(e.map(n,function(e){return function(r){return t.ap(e,r)}}),r)}}},t.apFirst=function(e){return function(t){return function(r){return e.ap(e.map(r,function(e){return function(){return e}}),t)}}},t.apSecond=function(e){return function(t){return function(r){return e.ap(e.map(r,function(){return function(e){return e}}),t)}}},t.apS=function(e){return function(t,r){return function(n){return e.ap(e.map(n,function(e){return function(r){var n;return Object.assign({},e,((n={})[t]=r,n))}}),r)}}},t.getApplySemigroup=function(e){return function(t){return{concat:function(r,n){return e.ap(e.map(r,function(e){return function(r){return t.concat(e,r)}}),n)}}}};var c={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};t.sequenceT=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=function(e){return u.has.call(c,e)||(c[e]=s(a.tuple,e-1,[])),c[e]}(n),o=e.map(t[0],i),l=1;l<n;l++)o=e.ap(o,t[l]);return o}},t.sequenceS=function(e){return function(t){for(var r=Object.keys(t),n=r.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var r;return(r={})[e[0]]=t,r};case 2:return function(t){return function(r){var n;return(n={})[e[0]]=t,n[e[1]]=r,n}};case 3:return function(t){return function(r){return function(n){var i;return(i={})[e[0]]=t,i[e[1]]=r,i[e[2]]=n,i}}};case 4:return function(t){return function(r){return function(n){return function(i){var o;return(o={})[e[0]]=t,o[e[1]]=r,o[e[2]]=n,o[e[3]]=i,o}}}};case 5:return function(t){return function(r){return function(n){return function(i){return function(o){var a;return(a={})[e[0]]=t,a[e[1]]=r,a[e[2]]=n,a[e[3]]=i,a[e[4]]=o,a}}}}};default:return s(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i={},o=0;o<t;o++)i[e[o]]=r[o];return i},t-1,[])}}(r),o=e.map(t[r[0]],i),a=1;a<n;a++)o=e.ap(o,t[r[a]]);return o}}},4276:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.right=t.left=t.flap=t.Functor=t.Bifunctor=t.URI=t.bimap=t.mapLeft=t.map=t.separated=void 0;var n=r(3643),i=r(1124);t.separated=function(e,t){return{left:e,right:t}},t.map=function(e){return function(r){return(0,t.separated)((0,t.left)(r),e((0,t.right)(r)))}},t.mapLeft=function(e){return function(r){return(0,t.separated)(e((0,t.left)(r)),(0,t.right)(r))}},t.bimap=function(e,r){return function(n){return(0,t.separated)(e((0,t.left)(n)),r((0,t.right)(n)))}},t.URI="Separated",t.Bifunctor={URI:t.URI,mapLeft:function(e,r){return(0,n.pipe)(e,(0,t.mapLeft)(r))},bimap:function(e,r,i){return(0,n.pipe)(e,(0,t.bimap)(r,i))}},t.Functor={URI:t.URI,map:function(e,r){return(0,n.pipe)(e,(0,t.map)(r))}},t.flap=(0,i.flap)(t.Functor),t.left=function(e){return e.left},t.right=function(e){return e.right}},6006:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tapEither=t.filterOrElse=t.chainFirstEitherK=t.chainEitherK=t.fromEitherK=t.chainOptionK=t.fromOptionK=t.fromPredicate=t.fromOption=void 0;var a=r(7910),u=r(3643),s=o(r(174));function c(e){return function(t){return function(r){return e.fromEither(s.isNone(r)?s.left(t()):s.right(r.value))}}}function l(e){var t=c(e);return function(e){var r=t(e);return function(e){return(0,u.flow)(e,r)}}}function f(e){return function(t){return(0,u.flow)(t,e.fromEither)}}function g(e,t){var r=f(e),n=(0,a.tap)(t);return function(e,t){return n(e,r(t))}}t.fromOption=c,t.fromPredicate=function(e){return function(t,r){return function(n){return e.fromEither(t(n)?s.right(n):s.left(r(n)))}}},t.fromOptionK=l,t.chainOptionK=function(e,t){var r=l(e);return function(e){var n=r(e);return function(e){return function(r){return t.chain(r,n(e))}}}},t.fromEitherK=f,t.chainEitherK=function(e,t){var r=f(e);return function(e){return function(n){return t.chain(n,r(e))}}},t.chainFirstEitherK=function(e,t){var r=g(e,t);return function(e){return function(t){return r(t,e)}}},t.filterOrElse=function(e,t){return function(r,n){return function(i){return t.chain(i,function(t){return e.fromEither(r(t)?s.right(t):s.left(n(t)))})}}},t.tapEither=g},6749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApplicativeComposition=t.getApplicativeMonoid=void 0;var n=r(3871),i=r(3643),o=r(1124);t.getApplicativeMonoid=function(e){var t=(0,n.getApplySemigroup)(e);return function(r){return{concat:t(r).concat,empty:e.of(r.empty)}}},t.getApplicativeComposition=function(e,t){var r=(0,o.getFunctorComposition)(e,t).map,a=(0,n.ap)(e,t);return{map:r,of:function(r){return e.of(t.of(r))},ap:function(e,t){return(0,i.pipe)(e,a(t))}}}},6815:function(e,t){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},o=e=>1==e?"argument":"arguments",a=(e,t,r)=>new Proxy(t,{apply:(t,n,i)=>r.call(n,e,...i)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const s=(e,t={},r={})=>{let n=Object.create(null),c={has:(t,r)=>r in e||r in n,get(c,l,f){if(l in n)return n[l];if(!(l in e))return;let g=e[l];if("function"==typeof g)if("function"==typeof t[l])g=a(e,e[l],t[l]);else if(u(r,l)){let t=((e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((o,a)=>{if(t.fallbackToNoCallback)try{r[e](...n,i({resolve:o,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(r[e](...n),o()):r[e](...n,i({resolve:o,reject:a},t))})})(l,r[l]);g=a(e,e[l],t)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(u(t,l)||u(r,l)))g=s(g,t[l],r[l]);else{if(!u(r,"*"))return Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),g;g=s(g,t[l],r["*"])}return n[l]=g,g},set:(t,r,i,o)=>(r in n?n[r]=i:e[r]=i,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},l=Object.create(e);return new Proxy(l,c)},c=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),l=new n(e=>"function"!=typeof e?e:function(t){const r=s(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)}),f=new n(e=>"function"!=typeof e?e:function(t,r,n){let i,o,a=!1,u=new Promise(e=>{i=function(t){a=!0,e(t)}});try{o=e(t,r,i)}catch(e){o=Promise.reject(e)}const s=!0!==o&&((c=o)&&"object"==typeof c&&"function"==typeof c.then);var c;if(!0!==o&&!s&&!a)return!1;return(s?o:u).then(e=>{n(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)}),!0}),g=({reject:r,resolve:n},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?r(new Error(i.message)):n(i)},m=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{const i=g.bind(null,{resolve:e,reject:t});n.push(i),r.sendMessage(...n)})},p={devtools:{network:{onRequestFinished:c(l)}},runtime:{onMessage:c(f),onMessageExternal:c(f),sendMessage:m.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:m.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},d={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":d},services:{"*":d},websites:{"*":d}},s(e,p,r)};e.exports=r(chrome)}},void 0===(n=r.apply(t,[e]))||(e.exports=n)},7186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var r=t(e);"Left"===r._tag;)r=t(r.left);return r.right}},7910:(e,t)=>{"use strict";function r(e){return function(t,r){return e.chain(t,function(t){return e.map(r(t),function(){return t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.bind=t.tap=t.chainFirst=void 0,t.chainFirst=function(e){var t=r(e);return function(e){return function(r){return t(r,e)}}},t.tap=r,t.bind=function(e){return function(t,r){return function(n){return e.chain(n,function(n){return e.map(r(n),function(e){var r;return Object.assign({},n,((r={})[t]=e,r))})})}}}},8084:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.filterE=t.witherDefault=t.wiltDefault=void 0;var a=o(r(174));t.wiltDefault=function(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.separate)}}},t.witherDefault=function(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.compact)}}},t.filterE=function(e){return function(t){var r=e.wither(t);return function(e){return function(n){return r(n,function(r){return t.map(e(r),function(e){return e?a.some(r):a.none})})}}}}},8934:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.match=t.foldW=t.matchW=t.isRight=t.isLeft=t.fromOption=t.fromPredicate=t.FromEither=t.MonadThrow=t.throwError=t.ChainRec=t.Extend=t.extend=t.Alt=t.alt=t.altW=t.Bifunctor=t.mapLeft=t.bimap=t.Traversable=t.sequence=t.traverse=t.Foldable=t.reduceRight=t.foldMap=t.reduce=t.Monad=t.Chain=t.Applicative=t.Apply=t.ap=t.apW=t.Pointed=t.of=t.asUnit=t.as=t.Functor=t.map=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getCompactable=t.getSemigroup=t.getEq=t.getShow=t.URI=t.flatMap=t.right=t.left=void 0,t.chainFirstW=t.chainFirst=t.chain=t.chainW=t.sequenceArray=t.traverseArray=t.traverseArrayWithIndex=t.traverseReadonlyArrayWithIndex=t.traverseReadonlyNonEmptyArrayWithIndex=t.ApT=t.apSW=t.apS=t.bindW=t.bind=t.let=t.bindTo=t.Do=t.exists=t.elem=t.toError=t.toUnion=t.chainNullableK=t.fromNullableK=t.tryCatchK=t.tryCatch=t.fromNullable=t.orElse=t.orElseW=t.swap=t.filterOrElseW=t.filterOrElse=t.flatMapOption=t.flatMapNullable=t.liftOption=t.liftNullable=t.chainOptionKW=t.chainOptionK=t.fromOptionK=t.duplicate=t.flatten=t.flattenW=t.tap=t.apSecondW=t.apSecond=t.apFirstW=t.apFirst=t.flap=t.getOrElse=t.getOrElseW=t.fold=void 0,t.getValidation=t.getValidationMonoid=t.getValidationSemigroup=t.getApplyMonoid=t.getApplySemigroup=t.either=t.stringifyJSON=t.parseJSON=void 0;var a=r(6749),u=r(3871),s=o(r(7910)),c=r(7186),l=r(6006),f=r(3643),g=r(1124),m=o(r(174)),p=r(4276),d=r(8084);t.left=m.left,t.right=m.right,t.flatMap=(0,f.dual)(2,function(e,r){return(0,t.isLeft)(e)?e:r(e.right)});var h=function(e,r){return(0,f.pipe)(e,(0,t.map)(r))},A=function(e,r){return(0,f.pipe)(e,(0,t.ap)(r))},v=function(e,r,n){return(0,f.pipe)(e,(0,t.reduce)(r,n))},y=function(e){return function(r,n){var i=(0,t.foldMap)(e);return(0,f.pipe)(r,i(n))}},b=function(e,r,n){return(0,f.pipe)(e,(0,t.reduceRight)(r,n))},x=function(e){var r=(0,t.traverse)(e);return function(e,t){return(0,f.pipe)(e,r(t))}},w=function(e,r,n){return(0,f.pipe)(e,(0,t.bimap)(r,n))},E=function(e,r){return(0,f.pipe)(e,(0,t.mapLeft)(r))},R=function(e,r){return(0,f.pipe)(e,(0,t.alt)(r))},M=function(e,r){return(0,f.pipe)(e,(0,t.extend)(r))},O=function(e,r){return(0,c.tailRec)(r(e),function(e){return(0,t.isLeft)(e)?(0,t.right)((0,t.left)(e.left)):(0,t.isLeft)(e.right)?(0,t.left)(r(e.right.left)):(0,t.right)((0,t.right)(e.right.right))})};t.URI="Either",t.getShow=function(e,r){return{show:function(n){return(0,t.isLeft)(n)?"left(".concat(e.show(n.left),")"):"right(".concat(r.show(n.right),")")}}},t.getEq=function(e,r){return{equals:function(n,i){return n===i||((0,t.isLeft)(n)?(0,t.isLeft)(i)&&e.equals(n.left,i.left):(0,t.isRight)(i)&&r.equals(n.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(r,n){return(0,t.isLeft)(n)?r:(0,t.isLeft)(r)?n:(0,t.right)(e.concat(r.right,n.right))}}},t.getCompactable=function(e){var r=(0,t.left)(e.empty);return{URI:t.URI,_E:void 0,compact:function(e){return(0,t.isLeft)(e)?e:"None"===e.right._tag?r:(0,t.right)(e.right.value)},separate:function(e){return(0,t.isLeft)(e)?(0,p.separated)(e,e):(0,t.isLeft)(e.right)?(0,p.separated)((0,t.right)(e.right.left),r):(0,p.separated)(r,(0,t.right)(e.right.right))}}},t.getFilterable=function(e){var r=(0,t.left)(e.empty),n=(0,t.getCompactable)(e),i=n.compact,o=n.separate;return{URI:t.URI,_E:void 0,map:h,compact:i,separate:o,filter:function(e,n){return(0,t.isLeft)(e)||n(e.right)?e:r},filterMap:function(e,n){if((0,t.isLeft)(e))return e;var i=n(e.right);return"None"===i._tag?r:(0,t.right)(i.value)},partition:function(e,n){return(0,t.isLeft)(e)?(0,p.separated)(e,e):n(e.right)?(0,p.separated)(r,(0,t.right)(e.right)):(0,p.separated)((0,t.right)(e.right),r)},partitionMap:function(e,n){if((0,t.isLeft)(e))return(0,p.separated)(e,e);var i=n(e.right);return(0,t.isLeft)(i)?(0,p.separated)((0,t.right)(i.left),r):(0,p.separated)(r,(0,t.right)(i.right))}}},t.getWitherable=function(e){var r=(0,t.getFilterable)(e),n=(0,t.getCompactable)(e);return{URI:t.URI,_E:void 0,map:h,compact:r.compact,separate:r.separate,filter:r.filter,filterMap:r.filterMap,partition:r.partition,partitionMap:r.partitionMap,traverse:x,sequence:t.sequence,reduce:v,foldMap:y,reduceRight:b,wither:(0,d.witherDefault)(t.Traversable,n),wilt:(0,d.wiltDefault)(t.Traversable,n)}},t.getApplicativeValidation=function(e){return{URI:t.URI,_E:void 0,map:h,ap:function(r,n){return(0,t.isLeft)(r)?(0,t.isLeft)(n)?(0,t.left)(e.concat(r.left,n.left)):r:(0,t.isLeft)(n)?n:(0,t.right)(r.right(n.right))},of:t.of}},t.getAltValidation=function(e){return{URI:t.URI,_E:void 0,map:h,alt:function(r,n){if((0,t.isRight)(r))return r;var i=n();return(0,t.isLeft)(i)?(0,t.left)(e.concat(r.left,i.left)):i}}},t.map=function(e){return function(r){return(0,t.isLeft)(r)?r:(0,t.right)(e(r.right))}},t.Functor={URI:t.URI,map:h},t.as=(0,f.dual)(2,(0,g.as)(t.Functor)),t.asUnit=(0,g.asUnit)(t.Functor),t.of=t.right,t.Pointed={URI:t.URI,of:t.of},t.apW=function(e){return function(r){return(0,t.isLeft)(r)?r:(0,t.isLeft)(e)?e:(0,t.right)(r.right(e.right))}},t.ap=t.apW,t.Apply={URI:t.URI,map:h,ap:A},t.Applicative={URI:t.URI,map:h,ap:A,of:t.of},t.Chain={URI:t.URI,map:h,ap:A,chain:t.flatMap},t.Monad={URI:t.URI,map:h,ap:A,of:t.of,chain:t.flatMap},t.reduce=function(e,r){return function(n){return(0,t.isLeft)(n)?e:r(e,n.right)}},t.foldMap=function(e){return function(r){return function(n){return(0,t.isLeft)(n)?e.empty:r(n.right)}}},t.reduceRight=function(e,r){return function(n){return(0,t.isLeft)(n)?e:r(n.right,e)}},t.Foldable={URI:t.URI,reduce:v,foldMap:y,reduceRight:b},t.traverse=function(e){return function(r){return function(n){return(0,t.isLeft)(n)?e.of((0,t.left)(n.left)):e.map(r(n.right),t.right)}}},t.sequence=function(e){return function(r){return(0,t.isLeft)(r)?e.of((0,t.left)(r.left)):e.map(r.right,t.right)}},t.Traversable={URI:t.URI,map:h,reduce:v,foldMap:y,reduceRight:b,traverse:x,sequence:t.sequence},t.bimap=function(e,r){return function(n){return(0,t.isLeft)(n)?(0,t.left)(e(n.left)):(0,t.right)(r(n.right))}},t.mapLeft=function(e){return function(r){return(0,t.isLeft)(r)?(0,t.left)(e(r.left)):r}},t.Bifunctor={URI:t.URI,bimap:w,mapLeft:E},t.altW=function(e){return function(r){return(0,t.isLeft)(r)?e():r}},t.alt=t.altW,t.Alt={URI:t.URI,map:h,alt:R},t.extend=function(e){return function(r){return(0,t.isLeft)(r)?r:(0,t.right)(e(r))}},t.Extend={URI:t.URI,map:h,extend:M},t.ChainRec={URI:t.URI,map:h,ap:A,chain:t.flatMap,chainRec:O},t.throwError=t.left,t.MonadThrow={URI:t.URI,map:h,ap:A,of:t.of,chain:t.flatMap,throwError:t.throwError},t.FromEither={URI:t.URI,fromEither:f.identity},t.fromPredicate=(0,l.fromPredicate)(t.FromEither),t.fromOption=(0,l.fromOption)(t.FromEither),t.isLeft=m.isLeft,t.isRight=m.isRight,t.matchW=function(e,r){return function(n){return(0,t.isLeft)(n)?e(n.left):r(n.right)}},t.foldW=t.matchW,t.match=t.matchW,t.fold=t.match,t.getOrElseW=function(e){return function(r){return(0,t.isLeft)(r)?e(r.left):r.right}},t.getOrElse=t.getOrElseW,t.flap=(0,g.flap)(t.Functor),t.apFirst=(0,u.apFirst)(t.Apply),t.apFirstW=t.apFirst,t.apSecond=(0,u.apSecond)(t.Apply),t.apSecondW=t.apSecond,t.tap=(0,f.dual)(2,s.tap(t.Chain)),t.flattenW=(0,t.flatMap)(f.identity),t.flatten=t.flattenW,t.duplicate=(0,t.extend)(f.identity),t.fromOptionK=(0,l.fromOptionK)(t.FromEither),t.chainOptionK=(0,l.chainOptionK)(t.FromEither,t.Chain),t.chainOptionKW=t.chainOptionK;var _={fromEither:t.FromEither.fromEither};t.liftNullable=m.liftNullable(_),t.liftOption=m.liftOption(_);var S={flatMap:t.flatMap};t.flatMapNullable=m.flatMapNullable(_,S),t.flatMapOption=m.flatMapOption(_,S),t.filterOrElse=(0,l.filterOrElse)(t.FromEither,t.Chain),t.filterOrElseW=t.filterOrElse,t.swap=function(e){return(0,t.isLeft)(e)?(0,t.right)(e.left):(0,t.left)(e.right)},t.orElseW=function(e){return function(r){return(0,t.isLeft)(r)?e(r.left):r}},t.orElse=t.orElseW,t.fromNullable=function(e){return function(r){return null==r?(0,t.left)(e):(0,t.right)(r)}},t.tryCatch=function(e,r){try{return(0,t.right)(e())}catch(e){return(0,t.left)(r(e))}},t.tryCatchK=function(e,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(0,t.tryCatch)(function(){return e.apply(void 0,n)},r)}},t.fromNullableK=function(e){var r=(0,t.fromNullable)(e);return function(e){return(0,f.flow)(e,r)}},t.chainNullableK=function(e){var r=(0,t.fromNullableK)(e);return function(e){return(0,t.flatMap)(r(e))}},t.toUnion=(0,t.foldW)(f.identity,f.identity),t.toError=function(e){try{return e instanceof Error?e:new Error(String(e))}catch(e){return new Error}},t.elem=function e(r){return function(n,i){if(void 0===i){var o=e(r);return function(e){return o(n,e)}}return!(0,t.isLeft)(i)&&r.equals(n,i.right)}},t.exists=function(e){return function(r){return!(0,t.isLeft)(r)&&e(r.right)}},t.Do=(0,t.of)(m.emptyRecord),t.bindTo=(0,g.bindTo)(t.Functor);var L=(0,g.let)(t.Functor);t.let=L,t.bind=s.bind(t.Chain),t.bindW=t.bind,t.apS=(0,u.apS)(t.Apply),t.apSW=t.apS,t.ApT=(0,t.of)(m.emptyReadonlyArray),t.traverseReadonlyNonEmptyArrayWithIndex=function(e){return function(r){var n=e(0,m.head(r));if((0,t.isLeft)(n))return n;for(var i=[n.right],o=1;o<r.length;o++){var a=e(o,r[o]);if((0,t.isLeft)(a))return a;i.push(a.right)}return(0,t.right)(i)}},t.traverseReadonlyArrayWithIndex=function(e){var r=(0,t.traverseReadonlyNonEmptyArrayWithIndex)(e);return function(e){return m.isNonEmpty(e)?r(e):t.ApT}},t.traverseArrayWithIndex=t.traverseReadonlyArrayWithIndex,t.traverseArray=function(e){return(0,t.traverseReadonlyArrayWithIndex)(function(t,r){return e(r)})},t.sequenceArray=(0,t.traverseArray)(f.identity),t.chainW=t.flatMap,t.chain=t.flatMap,t.chainFirst=t.tap,t.chainFirstW=t.tap,t.parseJSON=function(e,r){return(0,t.tryCatch)(function(){return JSON.parse(e)},r)},t.stringifyJSON=function(e,r){return(0,t.tryCatch)(function(){var t=JSON.stringify(e);if("string"!=typeof t)throw new Error("Converting unsupported structure to JSON");return t},r)},t.either={URI:t.URI,map:h,of:t.of,ap:A,chain:t.flatMap,reduce:v,foldMap:y,reduceRight:b,traverse:x,sequence:t.sequence,bimap:w,mapLeft:E,alt:R,extend:M,chainRec:O,throwError:t.throwError},t.getApplySemigroup=(0,u.getApplySemigroup)(t.Apply),t.getApplyMonoid=(0,a.getApplicativeMonoid)(t.Applicative),t.getValidationSemigroup=function(e,r){return(0,u.getApplySemigroup)((0,t.getApplicativeValidation)(e))(r)},t.getValidationMonoid=function(e,r){return(0,a.getApplicativeMonoid)((0,t.getApplicativeValidation)(e))(r)},t.getValidation=function(e){var r=(0,t.getApplicativeValidation)(e).ap,n=(0,t.getAltValidation)(e).alt;return{URI:t.URI,_E:void 0,map:h,of:t.of,chain:t.flatMap,bimap:w,mapLeft:E,reduce:v,foldMap:y,reduceRight:b,extend:M,traverse:x,sequence:t.sequence,chainRec:O,throwError:t.throwError,ap:r,alt:n}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t,n,i,o,a;(a=e||(e={})).Call="call",a.Reply="reply",a.Syn="syn",a.SynAck="synAck",a.Ack="ack",function(e){e.Fulfilled="fulfilled",e.Rejected="rejected"}(t||(t={})),function(e){e.ConnectionDestroyed="ConnectionDestroyed",e.ConnectionTimeout="ConnectionTimeout",e.NoIframeSrc="NoIframeSrc"}(n||(n={})),function(e){e.DataCloneError="DataCloneError"}(i||(i={})),(o||(o={})).Message="message";const u={"http:":"80","https:":"443"},s=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,c=["file:","data:"],l=({name:e,message:t,stack:r})=>({name:e,message:t,stack:r});let f=0;const g=()=>++f,m=e=>e?e.split("."):[],p=(e,t,r)=>{const n=m(t);return n.reduce((e,t,i)=>(void 0===e[t]&&(e[t]={}),i===n.length-1&&(e[t]=r),e[t]),e),e},d=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{const i=e[n],o=((e,t)=>{const r=m(t||"");return r.push(e),(e=>e.join("."))(r)})(n,t);"object"==typeof i&&Object.assign(r,d(i,o)),"function"==typeof i&&(r[o]=i)}),r},h=(r,i,a,u,s)=>{const{localName:c,local:l,remote:f,originForSending:m,originForReceiving:d}=i;let h=!1;s(`${c}: Connecting call sender`);const A=a.reduce((r,i)=>{return r[i]=(a=i,(...r)=>{let i;s(`${c}: Sending ${a}() call`);try{f.closed&&(i=!0)}catch(e){i=!0}if(i&&u(),h){const e=new Error(`Unable to send ${a}() call due to destroyed connection`);throw e.code=n.ConnectionDestroyed,e}return new Promise((n,i)=>{const u=g(),p=r=>{if(r.source!==f||r.data.penpal!==e.Reply||r.data.id!==u)return;if("*"!==d&&r.origin!==d)return void s(`${c} received message from origin ${r.origin} which did not match expected origin ${d}`);const g=r.data;s(`${c}: Received ${a}() reply`),l.removeEventListener(o.Message,p);let m=g.returnValue;g.returnValueIsError&&(m=(e=>{const t=new Error;return Object.keys(e).forEach(r=>t[r]=e[r]),t})(m)),(g.resolution===t.Fulfilled?n:i)(m)};l.addEventListener(o.Message,p);const h={penpal:e.Call,id:u,methodName:a,args:r};f.postMessage(h,m)})}),r;var a},{});return Object.assign(r,(e=>{const t={};for(const r in e)p(t,r,e[r]);return t})(A)),()=>{h=!0}},A=r=>{let{iframe:a,methods:f={},childOrigin:g,timeout:m,debug:p=!1}=r;const A=(e=>(...t)=>{e&&console.log("[Penpal]",...t)})(p),v=((e,t)=>{const r=[];let n=!1;return{destroy(e){n||(n=!0,t("Parent: Destroying connection"),r.forEach(t=>{t(e)}))},onDestroy(e){n?e():r.push(e)}}})(0,A),{onDestroy:y,destroy:b}=v;g||((e=>{if(!e.src&&!e.srcdoc){const e=new Error("Iframe must have src or srcdoc property defined.");throw e.code=n.NoIframeSrc,e}})(a),g=(e=>{if(e&&c.find(t=>e.startsWith(t)))return"null";const t=document.location,r=s.exec(e);let n,i,o;return r?(n=r[1]?r[1]:t.protocol,i=r[2],o=r[4]):(n=t.protocol,i=t.hostname,o=t.port),`${n}//${i}${o&&o!==u[n]?`:${o}`:""}`})(a.src));const x="null"===g?"*":g,w=d(f),E=((t,r,n,i)=>o=>{if(!o.source)return;if("*"!==n&&o.origin!==n)return void t(`Parent: Handshake - Received SYN message from origin ${o.origin} which did not match expected origin ${n}`);t("Parent: Handshake - Received SYN, responding with SYN-ACK");const a={penpal:e.SynAck,methodNames:Object.keys(r)};o.source.postMessage(a,i)})(A,w,g,x),R=((r,n,a,u,s)=>{const{destroy:c,onDestroy:f}=u;let g,m;const p={};return u=>{if("*"!==n&&u.origin!==n)return void s(`Parent: Handshake - Received ACK message from origin ${u.origin} which did not match expected origin ${n}`);s("Parent: Handshake - Received ACK");const d={localName:"Parent",local:window,remote:u.source,originForSending:a,originForReceiving:n};g&&g(),g=((r,n,a)=>{const{localName:u,local:s,remote:c,originForSending:f,originForReceiving:g}=r;let m=!1;const p=r=>{if(r.source!==c||r.data.penpal!==e.Call)return;if("*"!==g&&r.origin!==g)return void a(`${u} received message from origin ${r.origin} which did not match expected origin ${g}`);const o=r.data,{methodName:s,args:p,id:d}=o;a(`${u}: Received ${s}() call`);const h=r=>n=>{if(a(`${u}: Sending ${s}() reply`),m)return void a(`${u}: Unable to send ${s}() reply due to destroyed connection`);const o={penpal:e.Reply,id:d,resolution:r,returnValue:n};r===t.Rejected&&n instanceof Error&&(o.returnValue=l(n),o.returnValueIsError=!0);try{c.postMessage(o,f)}catch(r){if(r.name===i.DataCloneError){const n={penpal:e.Reply,id:d,resolution:t.Rejected,returnValue:l(r),returnValueIsError:!0};c.postMessage(n,f)}throw r}};new Promise(e=>e(n[s].apply(n,p))).then(h(t.Fulfilled),h(t.Rejected))};return s.addEventListener(o.Message,p),()=>{m=!0,s.removeEventListener(o.Message,p)}})(d,r,s),f(g),m&&m.forEach(e=>{delete p[e]}),m=u.data.methodNames;const A=h(p,d,m,c,s);return f(A),p}})(w,g,x,v,A),M=new Promise((t,r)=>{const i=((e,t)=>{let r;return void 0!==e&&(r=window.setTimeout(()=>{const r=new Error(`Connection timed out after ${e}ms`);r.code=n.ConnectionTimeout,t(r)},e)),()=>{clearTimeout(r)}})(m,b),u=r=>{if(r.source===a.contentWindow&&r.data)if(r.data.penpal!==e.Syn){if(r.data.penpal===e.Ack){const e=R(r);return void(e&&(i(),t(e)))}}else E(r)};window.addEventListener(o.Message,u),A("Parent: Awaiting handshake"),((e,t)=>{const{destroy:r,onDestroy:n}=t,i=setInterval(()=>{e.isConnected||(clearInterval(i),r())},6e4);n(()=>{clearInterval(i)})})(a,v),y(e=>{window.removeEventListener(o.Message,u),e&&r(e)})});return{promise:M,destroy(){b()}}};var v=r(8934);function y(e,t,r){const n=e.decode(t);if((0,v.isRight)(n))return n.right;if(arguments.length>=3)return r;throw console.error("Data for the error below",t),new TypeError("Invalid type")}var b=r(6815),x=r.n(b);const w=(e,{factoryHandler:t,filter:r,requestValidator:n,responseValidator:i})=>{const o=new Set;let a=null;return[i=>{const u=r?r(i):void 0,s=t(i),c=location.href;o.add(c),a={handler:s,filter:u};const l=function(e){const t=(t,r)=>{if(t instanceof Object&&t.action===e)return(e=>{if(u&&!u(e))return;return Promise.resolve().then(async()=>(void 0!==n&&y(n,e),s(e)))})(t.data)};return x().runtime.onMessage.addListener(t),()=>{x().runtime.onMessage.removeListener(t)}}(e);return()=>{o.delete(c),a=null,l()}},t=>{const r=Array.from(o.values()).some(e=>e!==location.href);if(o.size>0&&!r){if(null===a)throw new Error(`Request handler is not initialized for endpoint "${e}"`);if(a.filter&&!a.filter(t))throw new Error("Request handler available only in the same frame where request sent, but request rejected by filter");return a.handler(t)}return(n=e,u=t,x().runtime.sendMessage({action:n,data:u})).then(e=>(void 0!==i&&y(i,e),e));var n,u}]},E=w("customTranslator.create",{factoryHandler:({customTranslators:e})=>async({code:t,uniqueName:r})=>{if(r){const t=Array.from(e.entries()).find(([e,t])=>t.uniqueName===r);if(t){const[r,n]=t;n.controller.destroy(),n.iframe.remove(),e.delete(r)}}const n=document.createElement("iframe",{});n.setAttribute("sandbox","allow-scripts"),document.body.appendChild(n),n.src="/offscreen-documents/translator/translator.html";const i=A({iframe:n,childOrigin:"*",timeout:5e3,methods:{fetch:(e,t)=>fetch(e,t).then(async e=>({body:await e.blob(),status:e.status,statusText:e.statusText,headers:Object.fromEntries(Array.from(e.headers.entries()))}))}}),o=String((new Date).getTime());e.set(o,{uniqueName:r,iframe:n,controller:i});try{const{init:e}=await i.promise;return{id:o,info:await e(t)}}catch(t){throw n.remove(),e.delete(o),t}}}),R=w("customTranslator.delete",{factoryHandler:({customTranslators:e})=>async({id:t})=>{const r=e.get(t);if(!r)throw new Error("Not found translator with provided id");r.controller.destroy(),r.iframe.remove(),e.delete(t)}}),M=w("customTranslator.call",{factoryHandler:({customTranslators:e})=>async({id:t,method:r,args:n})=>{const i=e.get(t);if(!i)throw new Error("Not found translator with provided id");const o=(await i.controller.promise)[r];if(!o)throw new Error("Not found requested method");return o(...n)}}),[O,_]=(E[1],R[1],M[1],w("customTranslator.create",{factoryHandler:({onChange:e})=>async({isLight:t})=>{e(t)}}));document.addEventListener("DOMContentLoaded",async()=>{(()=>{const e=document.createElement("iframe",{});e.src="/offscreen-documents/worker/worker.html",e.setAttribute("sandbox","allow-same-origin allow-scripts"),document.body.appendChild(e)})(),(()=>{const e=new Map;[E,R,M].forEach(([t])=>t({customTranslators:e}))})(),(()=>{const e=window.matchMedia("(prefers-color-scheme: light)");e.addEventListener("change",e=>{_({isLight:e.matches})}),_({isLight:e.matches})})()})})()})();