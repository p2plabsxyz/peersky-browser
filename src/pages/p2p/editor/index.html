<meta lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="peersky://static/assets/favicon.ico" />
<title>P2P Editor</title>
<link rel="stylesheet" type="text/css" href="styles.css">
<style>
    #titleInput.hidden {
        display: none;
    }
</style>
<main>
    <div id="backdrop"></div>
    <div id="loadingSpinner" style="display: none;">
        <div class="emoji-loader"> â†» </div>
    </div>
    <div class="grid-container">
        
        <!-- Text area for Html Code -->
        <textarea id="htmlCode" placeholder="Type HTML code here" spellcheck="false"></textarea>

        <!-- Text area for Javascript Code -->
        <textarea id="javascriptCode" spellcheck="false" placeholder="Type JavaScript code here"></textarea>

        <!-- Text area for Css Code -->
        <textarea id="cssCode" placeholder="Type CSS code here" spellcheck="false"></textarea>

        <!-- Iframe for Code Output -->
        <iframe id="viewer"></iframe>
    
    </div>
    <div id="dweb-container">
        <div>
            <label for="protocolSelect">
                <select id="protocolSelect">
                    <option value="hyper" selected>hyper://</option>
                    <option value="ipfs">ipfs://</option>
                </select>
            </label>
            <input type="text" id="titleInput" placeholder="Project title" class="hidden">
            <button id="uploadButton">Publish</button>
            <button id="clearDraftButton">Clear</button>
        </div>
        <div id="ai-toggle-container">
            <button id="toggleAiButton">ğŸ¤– Create with AI</button>
        </div>
        <div id="fetchContainer">
            <input id="fetchCidInput" type="text" placeholder="Enter ipfs:// or hyper:// URL">
            <button id="fetchButton">Fetch</button>
        </div>
    </div>
    <ul id="uploadListBox"></ul>
    
    <!-- AI Generation Section -->
    <div id="ai-container" class="hidden">
        <textarea id="aiPromptBox" rows="3">Create a simple page with a blue background and a red â€œSpider-Manâ€ text in the center. When the user clicks this text, add a new â€œğŸ•¸ï¸â€ emoji to the page at a random position on the screen.</textarea>
        <div id="ai-buttons">
            <button id="generateButton">âœ¨ Generate</button>
            <button id="showAiLog">ğŸ“‹ Open Logs</button>
        </div>
    </div>
    
    <!-- AI Logs Dialog -->
    <dialog id="aiLogDialog">
        <dl id="aiLogs"></dl>
        <button id="closeAiLog">Close</button>
    </dialog>
</main>

<script type="module" src="common.js"></script>
<script type="module" src="dweb.js"></script>
<script type="module" src="codeEditor.js"></script>
<script type="module" src="ai-generator.js"></script>
