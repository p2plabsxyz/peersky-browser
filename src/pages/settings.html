<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' peersky:; object-src 'none'; style-src 'self' 'unsafe-inline' browser:;">
  <link rel="icon" type="image/png" href="peersky://static/assets/logo.png" />
  <style>
    @import url("browser://theme/index.css");
    @import url("browser://theme/vars.css");
    @import url("browser://theme/settings.css");
  </style>
  <title>Settings</title>
</head>
<body>

<div class="settings-wrapper">
  <div class="settings-layout">
    <!-- Sidebar Navigation -->
    <nav class="settings-sidebar">
      <div class="sidebar-header">
        <h1 class="sidebar-title">Settings</h1>
      </div>
      <div class="sidebar-nav">
        <a href="#appearance" class="nav-item active" data-section="appearance">
          <img src="peersky://static/assets/svg/palette.svg" class="nav-icon" alt="Appearance Icon">
          <span>Appearance</span>
        </a>
        <a href="#search" class="nav-item" data-section="search">
          <img src="peersky://static/assets/svg/search.svg" class="nav-icon" alt="Search Icon">
          <span>Search</span>
        </a>
        <a href="peersky://bookmarks" class="nav-item">
          <img src="peersky://static/assets/svg/bookmark-settings.svg" class="nav-icon" alt="Bookmarks Icon">
          <span>Bookmarks</span>
        </a>
        <a href="#extensions" class="nav-item" data-section="extensions">
          <img src="peersky://static/assets/svg/puzzle.svg" class="nav-icon" alt="Extensions Icon">
          <span>Extensions</span>
        </a>
      </div>
    </nav>

    <!-- Content Area -->
    <main class="settings-content">
      <!-- Appearance Section -->
      <div id="appearance-section" class="settings-page active">
        <h1 class="section-title">Appearance</h1>
        
        <section class="settings-section">
          <div class="setting-row">
            <div class="setting-label">Color theme</div>
            <div class="setting-control">
              <div class="custom-select" id="theme-select">
                <div class="select-display" data-value="dark">Dark</div>
                <div class="select-dropdown">
                  <div class="select-option" data-value="light">Light</div>
                  <div class="select-option" data-value="dark">Dark</div>
                  <div class="select-option" data-value="green">Green</div>
                  <div class="select-option" data-value="cyan">Cyan</div>
                  <div class="select-option" data-value="yellow">Yellow</div>
                  <div class="select-option" data-value="violet">Violet</div>
                </div>
              </div>
              <input type="hidden" id="theme-toggle" value="dark">
            </div>
          </div>
          
          <div class="setting-row">
            <div class="setting-label">Built-in wallpapers</div>
            <div class="setting-control">
              <div class="custom-select" id="wallpaper-select">
                <div class="select-display" data-value="redwoods">Redwoods</div>
                <div class="select-dropdown">
                  <div class="select-option" data-value="redwoods">Redwoods</div>
                  <div class="select-option" data-value="mountains">Mountains</div>
                </div>
              </div>
              <input type="hidden" id="wallpaper-selector" value="redwoods">
            </div>
          </div>

          <div class="setting-row">
            <div class="setting-label">Custom wallpaper</div>
            <div class="setting-control">
              <input type="file" id="wallpaper-file" class="file-input" accept="image/*" style="display: none;">
              <button type="button" id="wallpaper-browse" class="btn btn-secondary">Choose Image</button>
              <button type="button" id="wallpaper-remove" class="btn btn-danger" style="display: none;">Remove Custom</button>
            </div>
          </div>

          <div class="setting-row">
            <div class="setting-label">Show clock on home page</div>
            <div class="setting-control">
              <label class="toggle-label">
                <input type="checkbox" id="show-clock" class="toggle-input">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </section>
      </div>

      <!-- Search Section -->
      <div id="search-section" class="settings-page">
        <h1 class="section-title">Search Engine</h1>
        
        <section class="settings-section">
          <div class="setting-row">
            <div class="setting-label">Default search engine</div>
            <div class="setting-control">
              <div class="custom-select" id="search-engine-select">
                <div class="select-display" data-value="duckduckgo">DuckDuckGo</div>
                <div class="select-dropdown">
                  <div class="select-option" data-value="duckduckgo">DuckDuckGo</div>
                  <div class="select-option" data-value="ecosia">Ecosia</div>
                  <div class="select-option" data-value="startpage">Startpage</div>
                </div>
              </div>
              <input type="hidden" id="search-engine" value="duckduckgo">
            </div>
          </div>
          
          <div class="setting-row">
            <div class="setting-label">Clear cache</div>
            <div class="setting-control">
              <button type="button" id="clear-cache" class="btn btn-danger">Clear Cache</button>
            </div>
          </div>
        </section>
      </div>

      <!-- Extensions Section -->
      <div id="extensions-section" class="settings-page">
        <h1 class="section-title">Extensions</h1>
        
        <section class="settings-section">
          <!-- TODO: Extension Settings Controls -->
          <div class="setting-row">
            <div class="setting-label">Load extensions from P2P networks</div>
            <div class="setting-control">
              <label class="toggle-label">
                <input type="checkbox" id="extension-p2p-toggle" class="toggle-input">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
          
          <div class="setting-row">
            <div class="setting-label">Auto-update extensions</div>
            <div class="setting-control">
              <label class="toggle-label">
                <input type="checkbox" id="extension-auto-update-toggle" class="toggle-input" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
          
          <!-- TODO: Extension Management Actions -->
          <div class="setting-row">
            <div class="setting-label">Extension Management</div>
            <div class="setting-control">
              <button type="button" id="install-extension-btn" class="btn btn-secondary">Install Extension</button>
              <button type="button" id="check-updates-btn" class="btn btn-secondary">Check for Updates</button>
            </div>
          </div>
        </section>
        
        <!-- TODO: Installed Extensions List -->
        <section class="settings-section">
          <h2 class="section-subtitle">Installed Extensions</h2>
          
          <div id="extension-list" class="extension-list">
            <!-- TODO: Extension list will be populated by JavaScript -->
            <div class="coming-soon-notice">
              Extension system initializing...
            </div>
          </div>
        </section>
        
        <!-- TODO: P2P Network Status -->
        <section class="settings-section">
          <h2 class="section-subtitle">P2P Network Status</h2>
          
          <div class="network-status-grid">
            <div class="network-status-item">
              <div class="network-name">IPFS</div>
              <div class="network-status offline" id="ipfs-status">Offline</div>
              <div class="network-peers" id="ipfs-peers">0 peers</div>
            </div>
            
            <div class="network-status-item">
              <div class="network-name">Hypercore</div>
              <div class="network-status offline" id="hyper-status">Offline</div>
              <div class="network-peers" id="hyper-peers">0 peers</div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>
</div>

<script src="peersky://static/js/settings.js" defer></script>
</body>
</html> 